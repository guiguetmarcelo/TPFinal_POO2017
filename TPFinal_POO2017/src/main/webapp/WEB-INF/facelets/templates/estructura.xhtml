<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:unnoba="http://unnoba.edu.ar/poo2017/functions">

    <h:head>

        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <h:outputStylesheet name="css/default.css" />
        <h:outputStylesheet name="css/cssLayout.css"/>
        <!-- <h:outputStylesheet name="webjars/font-awesome/4.7.0/css/font-awesome-jsf.css"></h:outputStylesheet>-->


        <title><ui:insert name="title">#{msg.home_title}</ui:insert></title>
        <ui:insert name="head_content"></ui:insert>
    </h:head>

    <h:body>

        <div id="top">
            <ui:insert name="menu">
                <h:form id="form_menu_principal">
                    <p:menubar>
                        <p:menuitem value="#{msg.menu_principal}" outcome="/index.xhtml?faces-redirect=true" icon="fa fa-home"></p:menuitem>


                        <p:submenu label="#{msg.menu_gastos}" icon="fa fa-money">
                            <p:menuitem value="#{msg.menu_gastosListar}" outcome="/gastos/index"></p:menuitem>
                            <p:menuitem value="#{msg.menu_gastosNuevo}" outcome="/gastos/new"></p:menuitem>
                        </p:submenu>


                        <p:submenu label="#{msg.menu_presupuestos}" icon="fa fa-file-text-o"></p:submenu>

                        <p:submenu label="#{msg.menu_categorias}" icon="fa fa-tags">


                            <p:submenu label="#{msg.menu_categoriasSubcategorias}" icon="">
                                <p:menuitem value="#{msg.menu_categoriasSubcategoriasListar}" outcome="/subcategorias/index"></p:menuitem>
                            </p:submenu>

                            <p:menuitem value="#{msg.menu_categoriasListar}" outcome="/categorias/index"></p:menuitem>
                            <p:menuitem value="#{msg.categoria_nueva}" outcome="/categorias/new.xhtml?faces-redirect=true"></p:menuitem>

                        </p:submenu>

                        <p:submenu label="#{msg.menu_periodos}" icon="fa fa-calendar">
                            <p:menuitem value="#{msg.periodo_nuevo}" outcome="/periodos/new.xhtml?faces-redirect=true"></p:menuitem>
                            <p:menuitem value="#{msg.periodo_listar}" outcome="/periodos/index.xhtml?faces-redirect=true"></p:menuitem>
                        </p:submenu>

                        <p:submenu label="#{msg.menu_usuarios}" icon="fa fa-user-circle" >
                            <p:menuitem value="#{msg.menu_usuariosNuevo}" outcome="/usuarios/new.xhtml?faces-redirect=true"></p:menuitem>
                            <p:menuitem value="#{msg.menu_usuariosListar}" outcome="/usuarios/index.xhtml?faces-redirect=true"></p:menuitem>
                        </p:submenu>

                        <f:facet name="options">
                            <h:outputFormat value="#{unnoba:textFormat(msg.menu_usuarioLogin, sessionBacking.usuario.username)}"/>

                            <p:commandButton action="#{sessionBacking.logout()}"
                                             value="#{msg.menu_usuarioLogout}" 
                                             icon="ui-icon-extlink"
                                             ></p:commandButton> 

                        </f:facet>



                    </p:menubar>
                </h:form>
            </ui:insert>
            <ui:insert name="top"></ui:insert>
        </div>

        <div id="content" class="center_content">
            <ui:insert name="content"></ui:insert>
        </div>

        <div id="bottom">
            <ui:insert name="bottom"></ui:insert>
        </div>

    </h:body>

</html>
