<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:unnoba="http://unnoba.edu.ar/poo2017/functions">

    <h:form id="form_menu_principal">
        <p:menubar>
            <p:menuitem value="#{msg.menu_principal}" outcome="/index.xhtml?faces-redirect=true" icon="fa fa-home"></p:menuitem>


            <p:submenu label="#{msg.menu_gastos}" icon="fa fa-money">
                <p:menuitem value="#{msg.menu_gastosListar}" outcome="/gastos/index.xhtml?faces-redirect=true"></p:menuitem>
                <p:menuitem value="#{msg.menu_gastosNuevo}" outcome="/gastos/new.xhtml?faces-redirect=true"></p:menuitem>
            </p:submenu>


            <p:submenu label="#{msg.menu_presupuestos}" icon="fa fa-file-text-o">
                <p:menuitem value="#{msg.menu_presupuestosListar}" outcome="/presupuestos/index.xhtml?faces-redirect=true"></p:menuitem>
                <p:menuitem value="#{msg.menu_presupuestosNuevo}" outcome="/presupuestos/new.xhtml?faces-redirect=true"></p:menuitem>
            </p:submenu>
            
            <p:submenu label="Reportes" icon="fa fa-bar-chart">
                <p:menuitem value="Desvio subcategorias" outcome="/reportes/desvioSubcategorias.xhtml?faces-redirect=true"></p:menuitem>
                <p:menuitem value="Reporte comparativo" outcome="/reportes/reporteComparativo.xhtml?faces-redirect=true"></p:menuitem>
                <p:menuitem value="Reporte desvio" outcome="/reportes/reporteDesvio.xhtml?faces-redirect=true"></p:menuitem>
                <p:menuitem value="Reporte lista" outcome="/reportes/reporteLista.xhtml?faces-redirect=true"></p:menuitem>
            </p:submenu>

            <p:submenu label="#{msg.menu_categorias}" icon="fa fa-tags">

                <p:submenu label="#{msg.menu_categoriasSubcategorias}" icon="">
                    <p:menuitem value="#{msg.menu_categoriasSubcategoriasListar}" outcome="/subcategorias/index.xhtml?faces-redirect=true"></p:menuitem>
                    <p:menuitem value="#{msg.subcategoria_nueva}" outcome="/subcategorias/new.xhtml?faces-redirect=true"></p:menuitem>
                </p:submenu>

                <p:menuitem value="#{msg.menu_categoriasListar}" outcome="/categorias/index.xhtml?faces-redirect=true"></p:menuitem>
                <p:menuitem value="#{msg.categoria_nueva}" outcome="/categorias/new.xhtml?faces-redirect=true"></p:menuitem>

            </p:submenu>

            <p:submenu label="#{msg.periodos}" icon="fa fa-calendar">
                <p:menuitem value="#{msg.periodo_nuevo}" outcome="/periodos/new.xhtml?faces-redirect=true"></p:menuitem>
                <p:menuitem value="#{msg.periodo_listar}" outcome="/periodos/index.xhtml?faces-redirect=true"></p:menuitem>
            </p:submenu>

            <p:submenu label="#{msg.menu_usuarios}" icon="fa fa-user-circle" >
                <p:menuitem value="#{msg.menu_usuariosListar}" outcome="/usuarios/index.xhtml?faces-redirect=true"></p:menuitem>
                <p:menuitem value="#{msg.menu_usuariosNuevo}" outcome="/usuarios/new.xhtml?faces-redirect=true"></p:menuitem>
                <p:menuitem value="#{msg.menu_usuariosListarTodos}" outcome="/usuarios/view_all.xhtml?faces-redirect=true"></p:menuitem>
            </p:submenu>
            
            <p:submenu label="#{msg.menu_empresas}" icon="fa fa-building-o" rendered="#{sessionBacking.usuario.isAdmGen()}">
                <p:menuitem value="#{msg.menu_empresasListar}" outcome="/empresas/index.xhtml?faces-redirect=true"></p:menuitem>
                <p:menuitem value="#{msg.menu_empresasNuevo}" outcome="/empresas/new.xhtml?faces-redirect=true"></p:menuitem>
            </p:submenu>

            <f:facet name="options">
                <h:outputFormat id="usuario_login" value="#{unnoba:textFormat(msg.menu_usuarioLogin, sessionBacking.usuario.username)}"/>

                <p:commandButton action="#{sessionBacking.logout()}"
                                 value="#{msg.menu_usuarioLogout}" 
                                 icon="ui-icon-extlink"
                                 ></p:commandButton> 

            </f:facet>



        </p:menubar>
    </h:form>



</html>